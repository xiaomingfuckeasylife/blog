# 10大常见软件架构模式（简单版）

有没有想过大型的项目如何设计的呢？在项目伊始，我们不得不选择一个合适的架构能够给我们提供我们想要的功能特性和优势。因此在进行设计之前，必须理解不同的软件架构
![pic](https://cdn-images-1.medium.com/max/1600/1*M22DR3WPqbWXWidYIq2GwA.png)
## 什么是架构模式

根据wiki，架构模式是一种在某种场景下通用的，可以重用的解决方案，架构模式和软件编程中的设计模式很像，只不过宽度更为广阔。
    
在这篇文章中，我会简短的解释10中常见的架构模式以及他们的用法，优势以及缺点。
1. 分层设计模式
2. CS设计模式
3. 主从设计模式
4. 管道过滤器模式
5. 代理模式
6. 点对点模式
7. 事件总线模式
8. MVC模式
9. 黑板模式
10.释译模式

## 1.分层设计模式
这个模式也被叫做n层架构，当我们的业务可以被拆分成不同的子任务时候，并且每一个任务都是一种类型的抽象。下一层为上一层提供服务。
最常见的四层通用信息系统如下：
* 表示层（UI层）
* 应用层（service层）
* 业务逻辑层（domain层）
* 数据层（persistence层）
应用场景
通常的桌面应用
电子商务web服务

![web](https://cdn-images-1.medium.com/max/1600/1*jMWk_JqqyyloVPhTs_Zd1A.png)

## 2.CS模式
这个模式包含两个部分，一个服务器，多个客户端。服务组件会为多个客户端组件提供服务。客户端向服务器请求服务，服务器提供相关的服务给这些客户端。
并且服务器继续监听客户端的请求。
使用场景
网上服务例如邮件，共享文件和银行里面的一些业务。

![cs模式](https://cdn-images-1.medium.com/max/1600/1*4xX_WQQuD2u0PMK5bcWFkQ.png)

## 3.主从模式
这种模式包含双方；主人和奴隶。主人会将工作分给功能效用完全一样的奴隶组件，并且基于奴隶返回的结果生成一个最终的结果。

使用场景

在数据库复制，以主库为准，从库从主库中进行同步。
外设连接总线在计算机系统中（主从驱动器）

![主从](https://cdn-images-1.medium.com/max/1600/1*lsK9QntZl2d5oLojwRGXDg.png)

## 4.管道过滤器模式
这种模式被用于生产和处理流数据。每一个处理步骤都会嵌入一个过滤器对数据进行过滤。数据通过管道进行处理。这些管道可以用于进行缓存或者用于同步的需求

使用场景

编译器。连续的过滤器进行词法分析，转化，语义分析，已经代码生成。
工作流在生物工程上的运用

![管道](https://cdn-images-1.medium.com/max/1600/1*qikehZcDhhl_wWsqeI_nvg.png)

## 5.代理模式
这种模式用于构造分布式系统来解耦组件。这些组件可以通过远程服务调用来进行相互之间的沟通交流。代理人的责任是协调组件之间的沟通交流。服务通过代理发布服务和新特性，请求方通过向代理请求服务，然后代理找到在自己哪里注册的对应的服务，进行调用。

使用场景

消息代理软件，例如Apache的ActiveMQ，kafka，RabbitMQ，JBoss的消息服务。
![broker pattern](https://cdn-images-1.medium.com/max/1600/1*1qRQZjLRAd0yY_T9p2OgBw.png)

## 6.点对点模式
在这种模式中，每个组件被称为一个节点，节点即作为客户端，请求服务从其他节点，也作为服务，提供服务给其他节点，一个节点既可以做客户端也可以做服务端，他可以根据时间动态角色。

使用场景

共享文件系统网络。例如GNUTELLA,G2,多媒体协议例如p2pTv,Pdtp.

![p2p](https://cdn-images-1.medium.com/max/1600/1*ROvkckSTw1UncrbQSmUJUQ.png)

## 7.总线模式
这种模式主要用于处理事件有以下4种组件。事件源，事件监听器，事件通道，事件总线。源发布消息到总线的管道中，坚挺者订阅特定的通道，然后在通道接收到消息的时候这些坚挺者就会被提醒、

使用场景

安卓的开发环境,通知服务

![bus](https://cdn-images-1.medium.com/max/1600/1*DOZ4nVR9zkJm-EnXT3KOGQ.png)

## 8.MVC模式
这种模式也叫作MVC模式，将一个交互分为三个部分。
模型：包含有主要的功能和数据
视图：展示相关的数据信息给用户
控制器：对用户的请求进行分发
这么做的目的是为了更好的代码重用以及代码的解耦

使用场景
常用语web应用，web框架例如Django和Rails

![mvc](https://cdn-images-1.medium.com/max/1600/1*OP0CS6O5Sb66jpc-H-IuRQ.png)

## 9.黑板报模式
这种模式适用于对于问题没有决定使用那种解决方案的时候，黑板报模式包含三个组件。
黑板：一个全局的内存区域存放着解决方案的对象们
知识仓库：制定的模块有着自己的代表
控制器：选择，配置，执行模块们
所有的组件都有权限看到黑板报，组件可以添加新的对象到黑板上。组件通过一些模型黑板上寻找他们的解决方案。

使用场景

演讲识别
车辆识别和跟踪
蛋白质结构识别
声呐信号识别

![blackboard](https://cdn-images-1.medium.com/max/1600/1*ArbMx7A21I47llvwUTiSDg.png)

## 释译模式
这种模式用于设计一个组件专门用于解释一种类型的语言。他主要可以解释特定语言的每一样的代码。简单的想法就是有一个类对这门语言的每一个标识符。

使用场景

数据查询语言例如SQL。
语言用于描述沟通协议。

![interpreter](https://cdn-images-1.medium.com/max/1600/1*DrC3T5R4SsdcQY6aXLCRZA.png)

